<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Network | Osmosis</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Osmosis Documentation">
    <meta name="theme-color" content="#803eaf">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.7fad836b.css" as="style"><link rel="preload" href="/assets/js/app.13eb4e69.js" as="script"><link rel="preload" href="/assets/js/2.a5d7ed46.js" as="script"><link rel="preload" href="/assets/js/18.02afb35a.js" as="script"><link rel="prefetch" href="/assets/js/10.bde10a03.js"><link rel="prefetch" href="/assets/js/11.92903aa3.js"><link rel="prefetch" href="/assets/js/12.2198cb60.js"><link rel="prefetch" href="/assets/js/13.71f13be3.js"><link rel="prefetch" href="/assets/js/14.1c5b8fa8.js"><link rel="prefetch" href="/assets/js/15.662f2e28.js"><link rel="prefetch" href="/assets/js/16.5951984f.js"><link rel="prefetch" href="/assets/js/17.f4303755.js"><link rel="prefetch" href="/assets/js/19.396fc98c.js"><link rel="prefetch" href="/assets/js/20.f10b5802.js"><link rel="prefetch" href="/assets/js/21.b157854a.js"><link rel="prefetch" href="/assets/js/3.d0a545a9.js"><link rel="prefetch" href="/assets/js/4.c625b789.js"><link rel="prefetch" href="/assets/js/5.caa00a1d.js"><link rel="prefetch" href="/assets/js/6.093425f4.js"><link rel="prefetch" href="/assets/js/7.4c819fe7.js"><link rel="prefetch" href="/assets/js/8.e790524a.js"><link rel="prefetch" href="/assets/js/9.ff961d1a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7fad836b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/OSMOLogo.png" alt="Osmosis" class="logo"> <span class="site-name can-hide">Osmosis</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/intro/" class="nav-link">
  Intro
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  Config
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/intro/" class="nav-link">
  Intro
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  Config
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/intro/" class="sidebar-heading clickable"><span></span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/intro/" class="sidebar-link">What is Osmosis?</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/intro/#why-osmosis" class="sidebar-link">Why Osmosis?</a></li><li class="sidebar-sub-header"><a href="/intro/#amm" class="sidebar-link">AMM</a></li><li class="sidebar-sub-header"><a href="/intro/#lp-tokens" class="sidebar-link">LP Tokens</a></li><li class="sidebar-sub-header"><a href="/intro/#liquidity-mining" class="sidebar-link">Liquidity Mining</a></li><li class="sidebar-sub-header"><a href="/intro/#impermanent-loss" class="sidebar-link">Impermanent Loss</a></li><li class="sidebar-sub-header"><a href="/intro/#long-term-liquidity" class="sidebar-link">Long-Term Liquidity</a></li><li class="sidebar-sub-header"><a href="/intro/#ibc" class="sidebar-link">IBC</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/liquidity/" class="sidebar-link">Liquidity Providing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/liquidity/#creating-a-pool" class="sidebar-link">Creating a Pool</a></li><li class="sidebar-sub-header"><a href="/liquidity/#bonding-lp-tokens" class="sidebar-link">Bonding LP Tokens</a></li><li class="sidebar-sub-header"><a href="/liquidity/#bonded-liquidity-gauges" class="sidebar-link">Bonded Liquidity Gauges</a></li><li class="sidebar-sub-header"><a href="/liquidity/#allocation-points" class="sidebar-link">Allocation Points</a></li><li class="sidebar-sub-header"><a href="/liquidity/#external-incentives" class="sidebar-link">External Incentives</a></li><li class="sidebar-sub-header"><a href="/liquidity/#fees" class="sidebar-link">Fees</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/staking/" class="sidebar-link">Staking</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/staking/#staking-osmo" class="sidebar-link">Staking OSMO</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/governance/" class="sidebar-link">Governance</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/governance/#voting" class="sidebar-link">Voting</a></li><li class="sidebar-sub-header"><a href="/governance/#creating-a-proposal" class="sidebar-link">Creating a Proposal</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/other-features/" class="sidebar-link">Other Features</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/other-features/#liquidity-bootstrapping-pools" class="sidebar-link">Liquidity Bootstrapping Pools</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/network/" aria-current="page" class="active sidebar-link">Network</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/network/#quickstart" class="sidebar-link">Quickstart</a></li><li class="sidebar-sub-header"><a href="/network/#joining-mainnet" class="sidebar-link">Joining Mainnet</a></li><li class="sidebar-sub-header"><a href="/network/#joining-testnet" class="sidebar-link">Joining Testnet</a></li><li class="sidebar-sub-header"><a href="/network/#relayers" class="sidebar-link">Relayers</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/validators/" class="sidebar-link">Validators</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/validators/#faq" class="sidebar-link">FAQ</a></li><li class="sidebar-sub-header"><a href="/validators/#getting-started" class="sidebar-link">Getting Started</a></li><li class="sidebar-sub-header"><a href="/validators/#seed-list" class="sidebar-link">Seed list</a></li><li class="sidebar-sub-header"><a href="/validators/#support" class="sidebar-link">Support</a></li><li class="sidebar-sub-header"><a href="/validators/#knowledge-base" class="sidebar-link">Knowledge Base</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tutorials/" class="sidebar-link">Tutorials</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tutorials/#wallets" class="sidebar-link">Wallets</a></li><li class="sidebar-sub-header"><a href="/tutorials/#superfluid-staking" class="sidebar-link">Superfluid Staking</a></li><li class="sidebar-sub-header"><a href="/tutorials/#staking" class="sidebar-link">Staking</a></li><li class="sidebar-sub-header"><a href="/tutorials/#liquidity-mining" class="sidebar-link">Liquidity Mining</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="network"><a href="#network" class="header-anchor">#</a> Network</h1> <h2 id="quickstart"><a href="#quickstart" class="header-anchor">#</a> Quickstart</h2> <p><em>(Note: This repository is under active development. Architecture and implementation may change without documentation)</em></p> <p>This is what you'd use to get a node up and running, fast. It assumes that it is starting on a blank ubuntu machine.  It eschews a systemd unit, allowing automation to be up to the user.  It assumes that installing Go is in-scope since Ubuntu's repositories aren't up to date and you'll be needing go to use osmosis.  It handles the Go environment variables because those are a common pain point.</p> <p><strong>Install go</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">wget</span> -q -O - https://git.io/vQhTU <span class="token operator">|</span> <span class="token function">bash</span> -s -- --version <span class="token number">1.17</span>.2
</code></pre></div><p>Then exit and re-enter your shell.</p> <p><strong>Install Osmosis and check that it is on $PATH</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/osmosis-labs/osmosis
<span class="token builtin class-name">cd</span> osmosis
<span class="token function">git</span> checkout v3.1.0
<span class="token function">make</span> <span class="token function">install</span>
<span class="token function">which</span> osmosisd
</code></pre></div><p><strong>Launch Osmosis</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>osmosisd init yourmonikerhere
<span class="token function">wget</span> -O ~/.osmosisd/config/genesis.json https://github.com/osmosis-labs/networks/raw/main/osmosis-1/genesis.json
osmosisd start
</code></pre></div><p>More Nodes ==&gt; More Network</p> <p>More Network ==&gt; Faster Sync</p> <p>Faster Sync ==&gt; Less Developer Friction</p> <p>Less Developer Friction ==&gt; More Osmosis</p> <p>Thank you for supporting a healthy blockchain network and community by running an Osmosis node!</p> <h2 id="joining-mainnet"><a href="#joining-mainnet" class="header-anchor">#</a> Joining Mainnet</h2> <h2 id="joining-testnet"><a href="#joining-testnet" class="header-anchor">#</a> Joining Testnet</h2> <p>Start by ensuring your system is up to date</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> upgrade
</code></pre></div><p>Install tools if not already installed (git, gcc, make, ufw, etc.)</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token function">git</span> build-essential ufw <span class="token function">curl</span> jq snapd --yes
</code></pre></div><p>Install go</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">wget</span> -q -O - https://git.io/vQhTU <span class="token operator">|</span> <span class="token function">bash</span> -s -- --version <span class="token number">1.17</span>.2
</code></pre></div><p>After installed, open new terminal to prevent issues</p> <p>Export environmental variables</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">'export GOPATH=&quot;$HOME/go&quot;'</span> <span class="token operator">&gt;&gt;</span> ~/.profile
<span class="token builtin class-name">echo</span> <span class="token string">'export GOBIN=&quot;$GOPATH/bin&quot;'</span> <span class="token operator">&gt;&gt;</span> ~/.profile
<span class="token builtin class-name">echo</span> <span class="token string">'export PATH=&quot;$GOBIN:$PATH&quot;'</span> <span class="token operator">&gt;&gt;</span> ~/.profile
<span class="token builtin class-name">source</span> ~/.profile
</code></pre></div><p>Run the following to clone the osmosis repo</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> <span class="token environment constant">$HOME</span>
<span class="token function">git</span> clone https://github.com/osmosis-labs/osmosis
<span class="token builtin class-name">cd</span> osmosis
<span class="token function">git</span> checkout v3.2.0_with_cache
<span class="token function">make</span> <span class="token function">install</span>
</code></pre></div><p>You have now installed the Osmosis Daemon (osmosisd). Use osmosisd to initialize your node with the following (replace the NODE_NAME with a name of your choosing):</p> <div class="language-bash extra-class"><pre class="language-bash"><code>osmosisd init NODE_NAME --chain-id<span class="token operator">=</span>osmosis-testnet-0
</code></pre></div><p>We now need to open the config.toml to edit the seed list</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> <span class="token environment constant">$HOME</span>/.osmosisd/config
<span class="token function">nano</span> config.toml
</code></pre></div><p>Use page down or arrow keys to get to the line that says seeds = &quot;&quot; and replace it with the following</p> <div class="language-bash extra-class"><pre class="language-bash"><code>seeds <span class="token operator">=</span> <span class="token string">&quot;4eaed17781cd948149098d55f80a28232a365236@testmosis.blockpane.com:26656&quot;</span>
</code></pre></div><p>Then pres Ctrl+O, then enter to save, then Ctrl+X to exit</p> <p>We will now set up cosmovisor to ensure the upgrade happens flawlessly. To install Cosmovisor:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> <span class="token environment constant">$HOME</span>
<span class="token function">git</span> clone https://github.com/cosmos/cosmos-sdk
<span class="token builtin class-name">cd</span> cosmos-sdk
<span class="token function">git</span> checkout v0.42.9
<span class="token function">make</span> cosmovisor
<span class="token function">cp</span> cosmovisor/cosmovisor <span class="token variable">$GOPATH</span>/bin/cosmovisor
<span class="token builtin class-name">cd</span> <span class="token environment constant">$HOME</span>
</code></pre></div><p>After this, create the following directories with the following commands</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">mkdir</span> -p ~/.osmosisd
<span class="token function">mkdir</span> -p ~/.osmosisd/cosmovisor
<span class="token function">mkdir</span> -p ~/.osmosisd/cosmovisor/genesis
<span class="token function">mkdir</span> -p ~/.osmosisd/cosmovisor/genesis/bin
<span class="token function">mkdir</span> -p ~/.osmosisd/cosmovisor/upgrades
</code></pre></div><p>Next, run the following commands to set the environment variables</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;# Setup Cosmovisor&quot;</span> <span class="token operator">&gt;&gt;</span> ~/.profile
<span class="token builtin class-name">echo</span> <span class="token string">&quot;export DAEMON_NAME=osmosisd&quot;</span> <span class="token operator">&gt;&gt;</span> ~/.profile
<span class="token builtin class-name">echo</span> <span class="token string">&quot;export DAEMON_HOME=<span class="token environment constant">$HOME</span>/.osmosisd&quot;</span> <span class="token operator">&gt;&gt;</span> ~/.profile
<span class="token builtin class-name">echo</span> <span class="token string">&quot;export DAEMON_ALLOW_DOWNLOAD_BINARIES=false&quot;</span> <span class="token operator">&gt;&gt;</span> ~/.profile
<span class="token builtin class-name">echo</span> <span class="token string">&quot;export DAEMON_LOG_BUFFER_SIZE=512&quot;</span> <span class="token operator">&gt;&gt;</span> ~/.profile
<span class="token builtin class-name">echo</span> <span class="token string">&quot;export DAEMON_RESTART_AFTER_UPGRADE=true&quot;</span> <span class="token operator">&gt;&gt;</span> ~/.profile
<span class="token builtin class-name">source</span> ~/.profile
</code></pre></div><p>Download and replace the genesis file with the following commands</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> <span class="token environment constant">$HOME</span>/.osmosisd/config
<span class="token function">wget</span> https://github.com/osmosis-labs/networks/raw/unity/v4/osmosis-1/upgrades/v4/testnet/genesis.tar.bz2
<span class="token function">tar</span> -xjf genesis.tar.bz2
</code></pre></div><p>Next, copy the current osmosisd binary into the cosmovisor/genesis folder with the following command</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cp</span> <span class="token variable">$GOPATH</span>/bin/osmosisd ~/.osmosisd/cosmovisor/genesis/bin
</code></pre></div><p>To check your work, ensure the version of cosmovisor and osmosisd are the same</p> <div class="language-bash extra-class"><pre class="language-bash"><code>cosmovisor version
osmosisd version
</code></pre></div><p>These two command should both output 3.1.0-23-g517562d</p> <p>Before we start cosmovisor, lets prep the upgrade to v4.0.0-rc1 with the following commands</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">mkdir</span> -p ~/.osmosisd/cosmovisor/upgrades/v4/bin
<span class="token builtin class-name">cd</span> <span class="token environment constant">$HOME</span>/osmosis
<span class="token function">git</span> checkout v4.0.0
<span class="token function">make</span> build
<span class="token function">cp</span> build/osmosisd ~/.osmosisd/cosmovisor/upgrades/v4/bin
<span class="token builtin class-name">cd</span> <span class="token environment constant">$HOME</span>
</code></pre></div><p>Use the following command to ensure the validator file is in the gensesis state</p> <div class="language-bash extra-class"><pre class="language-bash"><code>osmosisd unsafe-reset-all
</code></pre></div><p>While we could start cosmovisor now with &quot;cosmovisor start&quot;, lets set up a service with the following commands to allow it to run in the background as well as restart automatically if it runs into any problems!</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;[Unit]
Description=Cosmovisor daemon
After=network-online.target
[Service]
Environment=&quot;</span><span class="token assign-left variable">DAEMON_NAME</span><span class="token operator">=</span>osmosisd<span class="token string">&quot;
Environment=&quot;</span><span class="token assign-left variable">DAEMON_HOME</span><span class="token operator">=</span><span class="token variable">${<span class="token environment constant">HOME</span>}</span>/.osmosisd<span class="token string">&quot;
Environment=&quot;</span><span class="token assign-left variable">DAEMON_RESTART_AFTER_UPGRADE</span><span class="token operator">=</span>true<span class="token string">&quot;
Environment=&quot;</span><span class="token assign-left variable">DAEMON_ALLOW_DOWNLOAD_BINARIES</span><span class="token operator">=</span>false<span class="token string">&quot;
Environment=&quot;</span><span class="token assign-left variable">DAEMON_LOG_BUFFER_SIZE</span><span class="token operator">=</span><span class="token number">512</span><span class="token string">&quot;
User=<span class="token environment constant">$USER</span>
ExecStart=<span class="token variable">${<span class="token environment constant">HOME</span>}</span>/go/bin/cosmovisor start
Restart=always
RestartSec=3
LimitNOFILE=4096
[Install]
WantedBy=multi-user.target
&quot;</span> <span class="token operator">&gt;</span>cosmovisor.service
</code></pre></div><p>Move this new file to the systemd directory</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">mv</span> cosmovisor.service /lib/systemd/system/cosmovisor.service
</code></pre></div><p>Finally, run the following commands</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl daemon-reload
<span class="token function">sudo</span> systemctl start cosmovisor
</code></pre></div><p>Check the status of your service</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl status cosmovisor
</code></pre></div><p>To see live logs of your service</p> <div class="language-bash extra-class"><pre class="language-bash"><code>journalctl -u cosmovisor -f
</code></pre></div><p>The process should initialize and get to block 1122200, where it will automatically upgrade to v4.0.0-rc1</p> <h2 id="relayers"><a href="#relayers" class="header-anchor">#</a> Relayers</h2></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/other-features/" class="prev">
        Other Features
      </a></span> <span class="next"><a href="/validators/">
        Validators
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.13eb4e69.js" defer></script><script src="/assets/js/2.a5d7ed46.js" defer></script><script src="/assets/js/18.02afb35a.js" defer></script>
  </body>
</html>
